package com.example.trouvetongab;

import androidx.annotation.NonNull;
import androidx.appcompat.app.ActionBarDrawerToggle;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.Toolbar;
import androidx.core.app.ActivityCompat;
import androidx.core.content.ContextCompat;
import androidx.core.view.GravityCompat;
import androidx.drawerlayout.widget.DrawerLayout;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import androidx.recyclerview.widget.StaggeredGridLayoutManager;
import androidx.viewpager.widget.ViewPager;

import android.Manifest;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.AlertDialog;
import android.app.DownloadManager;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.IntentSender;
import android.content.SharedPreferences;
import android.content.pm.PackageManager;
import android.graphics.Color;
import android.location.LocationManager;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.provider.Settings;
import android.text.TextUtils;
import android.util.Log;
import android.view.MenuItem;
import android.view.View;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.ViewFlipper;

import com.android.volley.Request;
import com.android.volley.RequestQueue;
import com.android.volley.Response;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.JsonArrayRequest;
import com.android.volley.toolbox.StringRequest;
import com.android.volley.toolbox.Volley;
import com.bumptech.glide.Glide;
import com.bumptech.glide.request.RequestOptions;
import com.facebook.AccessToken;
import com.facebook.login.LoginManager;
import com.google.android.gms.auth.api.Auth;
import com.google.android.gms.auth.api.signin.GoogleSignIn;
import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
import com.google.android.gms.auth.api.signin.GoogleSignInClient;
import com.google.android.gms.auth.api.signin.GoogleSignInOptions;
import com.google.android.gms.common.ConnectionResult;
import com.google.android.gms.common.api.GoogleApiClient;
import com.google.android.gms.common.api.PendingResult;
import com.google.android.gms.common.api.ResultCallback;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.location.LocationRequest;
import com.google.android.gms.location.LocationServices;
import com.google.android.gms.location.LocationSettingsRequest;
import com.google.android.gms.location.LocationSettingsResult;
import com.google.android.gms.location.LocationSettingsStatusCodes;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.tasks.OnCompleteListener;
import com.google.android.gms.tasks.Task;
import com.google.android.material.navigation.NavigationView;
import com.smarteist.autoimageslider.IndicatorAnimations;
import com.smarteist.autoimageslider.SliderAnimations;
import com.smarteist.autoimageslider.SliderView;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;
import java.util.Timer;
import java.util.TimerTask;

public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{

    private RecyclerView recyclerView;
    private RecyclerView.Adapter mAdapter;
    private RecyclerView.LayoutManager layoutManager;

    private List<Bank> bk = new ArrayList<>();

    ViewPager slider;
    LinearLayout sliderDotspanels;
    private int dotscount;
    private ImageView[] dots;

    RequestQueue rq;
    List<SliderUtils> sliderImg;
    ViewPagerAdapter viewPagerAdapter;

    Toolbar toolbar;
    DrawerLayout drawerLayout;
    NavigationView drawerNavView;
    ActionBarDrawerToggle toggle;

    LoadingDialog loadingDialog;


    public String nom;
    public String email;
    final static int REQUEST_LOCATION = 199;


    private GoogleApiClient googleApiClient;
    private GoogleSignInOptions gso;
    GoogleSignInClient mGoogleSignInClient;
    private  static String fine_location = Manifest.permission.ACCESS_FINE_LOCATION;
    private  static String coarse_location = Manifest.permission.ACCESS_COARSE_LOCATION;
    private  static final int requestcode_permission = 1234;

    String i_title, i_info;

    private Boolean locationAccept = false;
    @SuppressLint("RestrictedApi")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*loadingDialog = new LoadingDialog(this);
        loadingDialog.dismissDialog();*/


        /*SharedPreferences mSharedPreferences = getSharedPreferences("User Data", Context.MODE_PRIVATE);
        nom = mSharedPreferences.getString("nom","");
        email = mSharedPreferences.getString("email", "");
        if(nom.length() <= 0){

            startActivity(new Intent(this, login.class));

        }else{*/


            requestPermission();
            setContentView(R.layout.activity_main);

            loadingDialog = new LoadingDialog(this);
            loadingDialog.startLoadingDialog();

            drawerLayout = findViewById(R.id.drawer);
            toolbar = (Toolbar) findViewById(R.id.toolbar1);
            drawerNavView = findViewById(R.id.drawerNavView);
            setSupportActionBar(toolbar);
            getSupportActionBar().setDefaultDisplayHomeAsUpEnabled(true);
            getSupportActionBar().setDisplayHomeAsUpEnabled(false);

        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)
                .requestEmail()
                .build();
        mGoogleSignInClient = GoogleSignIn.getClient(this,gso);

/*
            View headerView = drawerNavView.getHeaderView(0);

            GoogleSignInAccount acct = GoogleSignIn.getLastSignedInAccount(this);
            if (acct != null) {
                String personName = acct.getDisplayName();
                String personEmail = acct.getEmail();
                String personId = acct.getId();
                Uri personPhoto = acct.getPhotoUrl();
               // Toast.makeText(this, "voici l'email : "+personEmail, Toast.LENGTH_LONG).show();

                ImageView avatar = (ImageView) headerView.findViewById(R.id.avatar);
                TextView avatar_name = (TextView) headerView.findViewById(R.id.avatar_name);


                avatar_name.setText(personName);
                RequestOptions requestOptions = new RequestOptions();
                requestOptions.placeholder(R.mipmap.avatar_default);
                requestOptions.error(R.mipmap.avatar_default);

                Glide.with(this).load(personPhoto)
                        .apply(requestOptions.circleCrop()).thumbnail(0.5f).into(avatar);
            }else{
                Bundle bundle = getIntent().getExtras();
                String fb_id = bundle.getString("id");
                String fb_name = bundle.getString("name");
                String fb = bundle.getString("fb");


                // Toast.makeText(MainActivity.this, fb, Toast.LENGTH_LONG).show();


                // if(fb.equals("fb") || name_ggle.equals("ggle") ){
                ImageView avatar = (ImageView) headerView.findViewById(R.id.avatar);
                TextView avatar_name = (TextView) headerView.findViewById(R.id.avatar_name);


                avatar_name.setText(fb_name);
                RequestOptions requestOptions = new RequestOptions();
                requestOptions.placeholder(R.mipmap.avatar_default);
                requestOptions.error(R.mipmap.avatar_default);

                Glide.with(this).load("https://graph.facebook.com/" + fb_id+ "/picture?type=large")
                        .apply(requestOptions.circleCrop()).thumbnail(0.5f).into(avatar);
            }

*/




            toggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, toolbar, R.string.drawerOpen, R.string.drawerClose);
            drawerLayout.addDrawerListener(toggle);
            toggle.syncState();
            drawerNavView.setNavigationItemSelectedListener(this);




            recyclerView = (RecyclerView) findViewById(R.id.recyclerBank);

            // use this setting to improve performance if you know that changes
            // in content do not change the layout size of the RecyclerView
            recyclerView.setHasFixedSize(true);

            // use a linear layout manager
            StaggeredGridLayoutManager mlayoutManager = new StaggeredGridLayoutManager(3, LinearLayoutManager.VERTICAL);
            recyclerView.setLayoutManager(mlayoutManager);


            String URL_BANQUES = "https://digitalfinances.innovstech.com/getBanque.php";
            StringRequest stringRequest = new StringRequest(Request.Method.GET, URL_BANQUES,
                    new Response.Listener<String>() {
                        @Override
                        public void onResponse(String response) {
                            Log.e("MainActivity", response);
                            //Toast.makeText(MainActivity.this, "ConnectÃ© | "+response, Toast.LENGTH_LONG).show();
                            try {
                                if(response.length() > 0){
                                    loadingDialog.dismissDialog();
                                }
                                JSONArray bank = new JSONArray(response);
                                //Toast.makeText(MainActivity.this, response.toString(), Toast.LENGTH_LONG).show();
                                for(int i=0; i<bank.length(); i++){
                                    JSONObject b = bank.getJSONObject(i);

                                    int id = b.getInt("id");
                                    String title = b.getString("title");
                                    String image = b.getString("image");

                                    bk.add(new Bank(id, title, image));

                                    mAdapter = new ListAdapter(MainActivity.this, bk);
                                    recyclerView.setAdapter(mAdapter);
                                }


                            } catch (JSONException e) {
                                //Toast.makeText(MainActivity.this, e.toString(), Toast.LENGTH_LONG).show();
                                e.printStackTrace();
                            }
                        }
                    },
                    new Response.ErrorListener() {
                        @Override
                        public void onErrorResponse(VolleyError error) {
                            //Toast.makeText(MainActivity.this, "Erreur de connexion... "+error.getMessage(), Toast.LENGTH_SHORT).show();

                            loadingDialog.dismissDialog();

                            loadingDialog.startWarningDialog();
                        }
                    });

            RequestQueue requestQueue = Volley.newRequestQueue(this);
            requestQueue.add(stringRequest);



            // specify an adapter (see also next example)


            // getlocation();


        }

    public void requestPermission(){
        if (ContextCompat.checkSelfPermission(MainActivity.this,
                Manifest.permission.ACCESS_COARSE_LOCATION ) != PackageManager.PERMISSION_GRANTED) {

// Permission is not granted
// Should we show an explanation?
            if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this,
                    Manifest.permission.ACCESS_COARSE_LOCATION)) {

                // Show an explanation to the user *asynchronously* -- don't block
                // this thread waiting for the user's response! After the user
                // sees the explanation, try again to request the permission.
               // Toast.makeText(MainActivity.this, "permission deja demande + ", Toast.LENGTH_LONG).show();
                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION}, 1);


            } else {

                // No explanation needed; request the permission
                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION}, 1);
              //  Toast.makeText(MainActivity.this, "demande de la permission  ", Toast.LENGTH_LONG).show();

        //}
                // MY_PERMISSIONS_REQUEST_ACCESS_COARSE_LOCATION is an
                // app-defined int constant. The callback method gets the
                // result of the request.
            }
        } else {
         //   Toast.makeText(MainActivity.this, "permission deja activer ", Toast.LENGTH_LONG).show();

// Permission has already been granted
        }
    }



    @Override
    public void onRequestPermissionsResult(final int requestCode, @NonNull final String[] permissions, @NonNull final int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        if (requestCode == 1) {
           // Toast.makeText(MainActivity.this, "bien recut", Toast.LENGTH_LONG).show();

            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                // Permission granted.
                Toast.makeText(MainActivity.this, "permission accepter", Toast.LENGTH_LONG).show();

            } else {
                // User refused to grant permission. You can add AlertDialog here
                requestPermission();
                Toast.makeText(MainActivity.this, "veillez accepter avant de continuer", Toast.LENGTH_LONG).show();
            }
        }
    }


    @Override
    public void onBackPressed() {
        if(drawerLayout.isDrawerOpen(GravityCompat.START))
            drawerLayout.closeDrawer(GravityCompat.START);
        else{
         //  startActivity(new Intent(this, MainActivity.class));
            super.onBackPressed();
           // this.finish();
            //startActivity(new Intent(this, MainActivity.class));
            //this.onDestroy();


        }
    }
    public void logout_fb() {
        if (AccessToken.getCurrentAccessToken() != null) {
            LoginManager.getInstance().logOut();
            startActivity(new Intent(this, login.class));
           // Toast.makeText(getApplicationContext(),"facebook deconnecter",Toast.LENGTH_LONG).show();
        }
    }

    public void logout_gl() {

       mGoogleSignInClient.signOut().addOnCompleteListener(this, new OnCompleteListener<Void>() {
            @Override
            public void onComplete(@NonNull Task<Void> task) {
              //  Toast.makeText(MainActivity.this, "google deconnecter ... ", Toast.LENGTH_SHORT).show();
                startActivity(new Intent(getApplicationContext(), login.class));
                finish();
            }
        });

    }

    @Override
    public boolean onNavigationItemSelected(@NonNull MenuItem item) {
        switch (item.getItemId()){
            case R.id.apropos:
                i_title = "A propos";
                i_info = "CrÃ©Ã©e par la jeune Fintech Digitale Finances, TROUVE TON GAB est un service innovant, performant et intuitif qui vous permet dâinformer les clients  (de toutes les banques ) de la disponibilitÃ© de leur GAB/DAB  en live en plus de leur gÃ©olocalisation, et ce , depuis votre smartphone ou tablette. \n" +
                        "TTG permet Ã©galement la gÃ©olocalisation des agences bancaires de toutes les banques locales.\n" +
                        "\n" +
                        "Lâappli TTG vous offre une multitude de fonctionnalitÃ©s Ã  portÃ©e de main telles \n" +
                        "-\tlâ activation /dÃ©sactivation des cartes bancaire ; \n" +
                        "-\tla dÃ©claration dâincidents de payement ( opposition sur carte bancaire, cas de rÃ©clamation de dÃ©bit Ã  tort ,etc ) ;\n" +
                        "-\tLa personnalisation de â plafonds de vos cartes de dÃ©bit ;\n" +
                        "\n" +
                        "TTG vous permet dâoptimiser vos dÃ©placements Ã  partir dâinformations reÃ§ues en temps rÃ©el 24/7.\n" +
                        "\n" +
                        "En plus dâÃªtre rapide et efficace, lâAppli TTG  vous garantit :\n" +
                        "â¢\tSÃ©curitÃ© : cryptage des donnÃ©es et respect des plus hauts standards bancaires\n" +
                        "â¢\tMobilitÃ©: service disponible Ã  tout moment et nâimporte oÃ¹.\n" +
                        "â¢\tFiabilitÃ©: solution bancaire Ã  la pointe de la technologie.\n" +
                        "â¢\tSimplicitÃ©: utilisation facile et conviviale des fonctionnalitÃ©s\n" +
                        "â¢\t\n" +
                        "Besoin dâinformation ou dâassistance ?\n" +
                        "Pour tout savoir sur lâappli TROUVE TON GAB (TTG) , contactez-nous via le Call Center au +20003396 , le Chat Bot (site web et facebook messenger) ;whatsapp :50252526 ou par email : info@digitalefinances.com\n";
                //Toast.makeText(this, "A propos", Toast.LENGTH_SHORT).show();

                break;

            case R.id.mention:
                i_title = "Mentions lÃ©gales";
                i_info = "â¢\tIdentitÃ©\n" +
                        "DÃ©nomination sociale de lâÃ©diteur :DIGITALE FINANCES\n" +
                        "Statut sociÃ©tÃ© : SociÃ©tÃ© Ã  responsabilitÃ© limitÃ©e au capital de 10 000 000 Francs CFA\n" +
                        "RCCM :Abidjan  CI-ABJ-2019-B-17722\n" +
                        "\n" +
                        "SIEGE SOCIAL LEGAL: COCODY LES 2 PLTX ENA-RUEK22-TEL\n" +
                        "TEL:00 225 20 00 33 96\n" +
                        "ADRESSE WEB : www.digitalefinances.com\n" +
                        "\n" +
                        "ReprÃ©sentant legal : M.Mamadou DIARRASSOUBA\n" +
                        "\n" +
                        "â¢\tRÃ¨gles professionnelles\n" +
                        "TROUVE TON GAB est un service innovant, performant et intuitif qui vous permet dâinformer les clients  (de toutes les banques ) de la disponibilitÃ© de leur GAB/DAB  en live en plus de leur gÃ©olocalisation, et ce , depuis votre smartphone ou tablette. \n" +
                        "TTG permet Ã©galement la gÃ©olocalisation des agences bancaires de toutes les banques locales.\n";
                break;
            case R.id.cgu:
                i_title = "Conditions GÃ©nÃ©rales d'Utilisation\n(CGU)";
                i_info = "ARTICLE 1 â DEFINITIONS \n" +
                        "\n" +
                        "Aux fins des prÃ©sentes, on entend par :\n" +
                        "\n" +
                        "Application TTG : lâapplication mobile de Digitale Finances dÃ©nommÃ©e TROUVE TON GAB (TTG) \n" +
                        "\n" +
                        "Conditions GÃ©nÃ©rales dâUtilisation ou CGU : les prÃ©sentes conditions gÃ©nÃ©rales dâutilisation de lâApplication Mobile Banking.\n" +
                        "\n" +
                        "Contrat : les prÃ©sentes CGU ainsi que leurs annexes et/ou Conditions ParticuliÃ¨res, conclues entre Digitale Finances  et lâUtilisateur. \n" +
                        "\n" +
                        "DonnÃ©es dâIdentification : les donnÃ©es permettant Ã  lâUtilisateur dâaccÃ©der Ã  son Espace Personnel, composÃ©es selon le cas dâun numÃ©ro de tÃ©lÃ©phone, adresse mail.\n" +
                        "\n" +
                        "DonnÃ©es Personnelles : toutes les informations Ã  caractÃ¨re personnel concernant un Utilisateur.\n" +
                        "\n" +
                        "Espace Personnel : lâespace dÃ©diÃ© de lâUtilisateur dans lâApplication TTG.\n" +
                        "\n" +
                        "Services : les services actuels et futurs mis Ã  la disposition de lâUtilisateur Ã  travers lâApplication TTG\n" +
                        "\n" +
                        "Utilisateur : la personne physique majeure et capable qui est dÃ©tenteur dâun moyen de payement Ã©lectronique (cartes bancaires, wallet to bank ,etc) , client ou non dâune banque de la place et qui utilise tout ou partie des Services.\n" +
                        "\n" +
                        "ARTICLE 2 â OBJET \n" +
                        "\n" +
                        "Les prÃ©sentes Conditions GÃ©nÃ©rales dâUtilisation rÃ©gissent les relations contractuelles entre Digitale Finances et lâUtilisateur dans le cadre de lâApplication TTG  et dÃ©finissent les conditions et modalitÃ©s du service. \n" +
                        "\n" +
                        "Les CGU constituent, avec, le cas Ã©chÃ©ant, les annexes et dâÃ©ventuelles Conditions ParticuliÃ¨res, les documents contractuels qui sâimposent Ã  lâUtilisateur. Si une ou plusieurs clauses de ces documents devaient Ãªtre dÃ©clarÃ©es nulles, invalides ou sans effet, et pour quelque cause que ce soit, les autres clauses garderont toutefois leur plein effet.\n" +
                        "\n" +
                        "\n" +
                        "\n" +
                        "\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 3 â DESCRIPTION DES SERVICES OFFERTS PAR LâAPPLICATION MOBILE BANKING\n" +
                        "\n" +
                        "TROUVE TON GAB est un service innovant, performant et intuitif qui vous permet dâinformer les clients  (de toutes les banques ) de la disponibilitÃ© de leur GAB/DAB  en live en plus de leur gÃ©olocalisation, et ce , depuis votre smartphone ou tablette. \n" +
                        "TTG permet Ã©galement la gÃ©olocalisation des agences bancaires de toutes les banques locales.\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 4 â SOUSCRIPTION - ABONNEMENT\n" +
                        "\n" +
                        "\uF0A7\tLa souscription Ã  lâApplication se fait sur le site institutionnel de Digitale Finances (www.digitalefinances.com/trouvetongab  ou depuis les plateformes de tÃ©lÃ©chargement dâapplication en ligne que sont lâApp Store ou Google Play et lâinstaller sur son appareil mobile.\n" +
                        "\n" +
                        " \n" +
                        "La souscription peut Ã©galement se faire Ã  distance en suivant les Ã©tapes suivantes :\n" +
                        "\n" +
                        "\uF0A7\tTÃ©lÃ©charger lâApplication TTG depuis les plateformes de tÃ©lÃ©chargement dâapplication en ligne que sont lâApp Store ou Google Play et lâinstaller sur son appareil mobile.\n" +
                        "\uF0A7\tAccepter les prÃ©sentes CGU en cliquant sur la case Â« jâaccepte les CGU envoyÃ©e sous forme de cookies ;\n" +
                        "\uF0A7\tChoisir sa banque pour voir les GAB/DAB ou agences bancaires disponibles avec leurs gÃ©olocalisation et les horaires dâouverture et fermeture ;\n" +
                        "\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 5 â SAISIE DES INFORMATIONS DâIDENTIFICATION\n" +
                        "\n" +
                        "La saisie par lâUtilisateur et la validation des informations dâidentification, par Digitale Finances, emporte automatiquement la synchronisation, sur le profil crÃ©Ã©, de toutes les informations liÃ©es aux comptes de lâUtilisateur quâil a entendu associer Ã  lâApplication.\n" +
                        "\n" +
                        "Les informations relatives aux comptes de lâUtilisateur sont actualisÃ©es de maniÃ¨re automatique.\n" +
                        "\n" +
                        "ARTICLE 6 â ACCES AUX SERVICES\n" +
                        "\n" +
                        "Pour avoir accÃ¨s aux Services, lâUtilisateur se connecte Ã  lâApplication en renseignant ses DonnÃ©es dâIdentification.\n" +
                        "\n" +
                        "Lorsque lâUtilisateur est connectÃ©, sâil ne se dÃ©connecte pas manuellement, il reste connectÃ©, mÃªme sâil nâest plus dans lâApplication.\n" +
                        "\n" +
                        "Si lâUtilisateur se dÃ©connecte manuellement de lâApplication, il devra Ã  nouveau renseigner ses DonnÃ©es dâIdentification pour accÃ©der Ã  nouveau Ã  son profil.\n" +
                        "\n" +
                        "ARTICLE 7 â SECURITE\n" +
                        " \n" +
                        "Les DonnÃ©es dâIdentification sont dÃ©finies par lâUtilisateur au moment de sa souscription.\n" +
                        "\n" +
                        "LâUtilisateur sâoblige Ã  prendre toutes les mesures et prÃ©cautions propres Ã  assurer la sÃ©curitÃ© de son appareil mobile, de ses DonnÃ©es dâIdentification et de ses informations relatives Ã  ses opÃ©rations sur son profil. Il sâoblige Ã  les tenir absolument secrÃ¨tes et Ã  ne les divulguer Ã  personne sous aucun prÃ©texte.\n" +
                        "\n" +
                        "Tout accÃ¨s au profil de lâUtilisateur au moyen de ses DonnÃ©es dâIdentification, est prÃ©sumÃ© de son fait. \n" +
                        "\n" +
                        "Digitale Finances  sâoblige Ã  faire tout son possible en vue dâassurer la sÃ©curitÃ© du profil et des DonnÃ©es dâIdentification de lâUtilisateur.\n" +
                        "\n" +
                        "Compte tenu toutefois de la complexitÃ© de lâenvironnement internet et des systÃ¨mes dâinformation, Digitale Finances nâest tenue, au titre de son engagement de sÃ©curisation du profil et des DonnÃ©es dâIdentification de lâUtilisateur, quâÃ  une obligation de moyen.\n" +
                        "\n" +
                        "Tout accÃ¨s frauduleux au profil et aux DonnÃ©es dâIdentification de lâUtilisateur, toute altÃ©ration de son profil, sont interdits et feront lâobjet de poursuites judiciaires.\n" +
                        "\n" +
                        "Lâensemble des informations, incluant les informations des opÃ©rations exÃ©cutÃ©es par lâUtilisateur, est conservÃ© sous la responsabilitÃ© de Digitale Finances qui en garantit lâintÃ©gritÃ©. \n" +
                        "\n" +
                        "LâUtilisateur sâengage Ã  ne commettre aucun acte qui pourrait mettre en cause la sÃ©curitÃ© des systÃ¨mes dâinformation de Digitale Finances.\n" +
                        "\n" +
                        "Il est interdit Ã  lâUtilisateur dâaccÃ©der aux Services de lâApplication TTG  sur un appareil mobile dont il nâest pas propriÃ©taire ou dont lâusage est partagÃ© avec une tierce personne.\n" +
                        "\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 8 â DISPONIBILITE DE LâAPPLICATION TTG\n" +
                        "\n" +
                        "LâApplication et les Services sont en principe disponible 24 heures/24 et 7 jours sur 7. \n" +
                        "\n" +
                        "En cas de panne, de maintenance ou de mise Ã  jour des systÃ¨mes, lâaccÃ¨s Ã  lâApplication est suspendu temporairement. LâUtilisateur en sera notifiÃ© sur son appareil mobile.\n" +
                        "\n" +
                        "ARTICLE 9 â PROPRIETE INTELLECTUELLE \n" +
                        "\n" +
                        "LâApplication Mobile Banking, lâensemble des Services et chacun des Ã©lÃ©ments qui lui sont associÃ©s pour sa fonctionnalitÃ© (les programmes et fichiers informatiques, les logiciels, progiciels interfaces, base de donnÃ©es, savoir-faire, donnÃ©es, textes, articles, lettres dâinformations, communiquÃ©s, prÃ©sentations, brochures, illustrations, photographies, animations, et toutes autres informations, sans que cette liste soit limitative) sont la propriÃ©tÃ© intellectuelle exclusive de Digitale Finances.\n" +
                        "Lâutilisation de lâApplication, objet des prÃ©sentes conditions gÃ©nÃ©rales, ne confÃ¨re nullement Ã  lâUtilisateur, un quelconque droit de propriÃ©tÃ©, de quelque nature que ce soit et la mise Ã  disposition des services dÃ©diÃ©s, ne saurait sâanalyser en un transfert quelconque de propriÃ©tÃ© au profit de lâUtilisateur.\n" +
                        "\n" +
                        "LâUtilisateur sâinterdit donc de vendre, prÃªter, nantir, licencier, reproduire, diffuser, communiquer au public, commercialiser, louer, adapter, modifier, transformer, dÃ©compiler tout Ã©lÃ©ment de lâApplication, dans sa forme originale ou dans une forme modifiÃ©e. \n" +
                        "\n" +
                        "L'Utilisateur s'engage expressÃ©ment Ã  ce que l'utilisation de l'Application ne porte en aucun cas atteinte aux droits de Digitale Finances, et notamment Ã  ce que cette utilisation ne constitue pas un acte de contrefaÃ§on, de concurrence dÃ©loyale ou parasitaire de lâApplication ou de son contenu.\n" +
                        "\n" +
                        "ARTICLE 10 â PROTECTION DES DONNEES A CARACTERE PERSONNEL\n" +
                        "\n" +
                        "LâUtilisateur reconnait que Digitale Finances est amenÃ©e Ã  collecter des donnÃ©es Ã  caractÃ¨re personnel le concernant Ã  lâoccasion de la conclusion et de lâexÃ©cution des prÃ©sentes. \n" +
                        " \n" +
                        "Ces donnÃ©es feront lâobjet de traitement afin de permettre la gestion de la relation Client et des Services offerts par lâApplication, la gestion des risques, la prÃ©vention de la fraude, la mise en place dâactions commerciales et le respect des obligations lÃ©gales et rÃ¨glementaires.\n" +
                        "\n" +
                        "LâUtilisateur autorise, de convention expresse, Digitale Finances Ã  collecter, traiter et communiquer les donnÃ©es Ã  caractÃ¨re personnel pour son compte ou celui des prestataires et sous-traitants qui interviennent pour son compte.\n" +
                        " \n" +
                        "LâUtilisateur peut sâopposer, pour des motifs lÃ©gitimes, Ã  ce que les donnÃ©es Ã  caractÃ¨re personnel fassent lâobjet de tels traitements.\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 11 - LUTTE CONTRE LA FRAUDE, LE BLANCHIMENT DE CAPITAUX ET LE FINANCEMENT DU TERRORISME\n" +
                        "\n" +
                        "Digitale Finances se rÃ©serve le droit de ne pas exÃ©cuter toute opÃ©ration quâelle jugerait non conforme.\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 12 - RESPONSABILITE DE DIGITALE FINANCES\n" +
                        "\n" +
                        "Digitale Finances est responsable de la fourniture des Services offerts par lâApplication Mobile Banking, laquelle est limitÃ©e aux seuls dommages directs subis par lâUtilisateur Ã  raison de lâutilisation de lâApplication.\n" +
                        "\n" +
                        "Digitale Finances ne peut Ãªtre tenue responsable de tous dommages indirects causÃ©s Ã  lâUtilisateur, comme la perte de clientÃ¨le, la perte de profit, le manque Ã  gagner ou lâatteinte Ã  son image.\n" +
                        " Digitale Finances ne pourra Ãªtre tenue responsable en cas de dommage subi par lâUtilisateur et rÃ©sultant de :\n" +
                        "- Une faute de lâUtilisateur ;\n" +
                        "- Un non-respect par lâUtilisateur des conditions gÃ©nÃ©rales dâutilisation ;\n" +
                        "- L'accÃ¨s par un tiers Ã  ses informations dâidentification sur autorisation de lâUtilisateur ;\n" +
                        "- Lâusage frauduleux ou abusif de lâApplication Mobile Banking par lâUtilisateur ;\n" +
                        "- Lâinterruption ou la dÃ©faillance de lâApplication, suite Ã  des dysfonctionnements du rÃ©seau Internet, du rÃ©seau des tÃ©lÃ©communications ou du rÃ©seau informatique ;\n" +
                        "- LâimpossibilitÃ© de fournir les Services offerts par lâApplication, notamment, en cas dâindisponibilitÃ© de la connexion ou pour des raisons indÃ©pendantes de la volontÃ© de Digitale Finances;\n" +
                        "\n" +
                        "ARTICLE 13 - RESPONSABILITE DE LâUTILISATEUR\n" +
                        "\n" +
                        "LâUtilisateur sâoblige Ã  utiliser lâApplication et les Services offerts dans le respect des stipulations des conditions gÃ©nÃ©rales dâutilisation ainsi que de la rÃ¨glementation en vigueur.\n" +
                        "\n" +
                        "LâUtilisateur est responsable de la bonne exÃ©cution des obligations qui lui incombent en vertu des prÃ©sentes conditions gÃ©nÃ©rales dâutilisation.\n" +
                        "\n" +
                        "Il est responsable de tous dommages et intÃ©rÃªts qui pourraient Ãªtre rÃ©clamÃ©s par tout tiers Ã  Digitale Finances , ainsi que de toute plainte, actions, poursuite ou condamnation de Digitale Finances, en cas de non-respect par lui, dâune ou plusieurs obligations dÃ©coulant des conditions gÃ©nÃ©rales dâutilisation et sâoblige Ã  indemniser Digitale Finances.\n" +
                        "\n" +
                        "ARTICLE 14 â DURÃE  \n" +
                        "\n" +
                        "Les prÃ©sentes conditions gÃ©nÃ©rales dâutilisation sont Ã©dictÃ©es pour une durÃ©e indÃ©terminÃ©e Ã  compter de leur acceptation par l'Utilisateur.\n" +
                        "\n" +
                        "ARTICLE 15 - RESILIATION \n" +
                        "\n" +
                        "15.1\tLâUtilisateur peut rÃ©silier, Ã  tout moment, sans frais, son abonnement en notifiant sa dÃ©cision Ã  Digitale Finances, par tout moyen laissant trace Ã©crite.\n" +
                        "\n" +
                        "15.2\t Digitale Finances  peut rÃ©silier le contrat en respectant un prÃ©avis d'au moins un (01) mois. Elle informe lâutilisateur par tout moyen laissant trace Ã©crite et notamment par courrier Ã©lectronique.\n" +
                        "\n" +
                        "Toutefois, Digitale Finances se rÃ©serve le droit de procÃ©der Ã  la rÃ©siliation, sans prÃ©avis, en cas de liquidation des biens de lâUtilisateur, de fraude, dâusage abusif de lâApplication, Ã  des fins notamment de blanchiment de capitaux, de financement du terrorisme et en cas de violation par lâUtilisateur de ses obligations contenu dans les prÃ©sentes conditions gÃ©nÃ©rales dâutilisation.\n" +
                        " \n" +
                        "ARTICLE 16 â CONDITIONS FINANCIÃRES\n" +
                        "\n" +
                        "LâApplication Mobile Banking est fournie gratuitement Ã  lâUtilisateur dÃ¨s son lancement mais pourrait Ã  terme connaÃ®tre une facturation selon lâ Ã©volution des diffÃ©rents services associÃ©s.\n" +
                        " \n" +
                        "LâaccÃ¨s Ã  lâensemble des Services tel que mentionnÃ© Ã  lâarticle 3 ci-dessus est Ã©galement gratuit pour lâUtilisateur.\n" +
                        "\n" +
                        "\n" +
                        "ARTICLE 17 â MODIFICATIONS DES CONDITIONS GENERALES DâUTILISATION DE LâAPPLICATION\n" +
                        "\n" +
                        "Digitale Finances  se rÃ©serve le droit dâapporter, Ã  tout moment, des modifications, Ã  tout ou partie des prÃ©sentes conditions gÃ©nÃ©rales, en vue de les adapter aux Ã©volutions de lâApplication ou de lâoffre de services.\n" +
                        "\n" +
                        "Digitale Finances notifiera le projet des modifications Ã  lâUtilisateur, par tout moyen laissant trace Ã©crite et notamment par courrier Ã©lectronique, en mÃªme temps que la date prÃ©vue pour leur entrÃ©e en vigueur et au plus tard un (01) mois avant. \n" +
                        "\n" +
                        "LâUtilisateur dispose dâun dÃ©lai de quinze (15) jours Ã  compter de la notification des modifications pour refuser celles-ci.\n" +
                        "\n" +
                        "LâUtilisateur est rÃ©putÃ© avoir acceptÃ© les modifications s'il nâa pas notifiÃ© son refus Ã  Digitale Finances avant la date d'entrÃ©e en vigueur proposÃ©e de ces modifications.\n" +
                        "\n" +
                        "Si lâUtilisateur refuse les modifications, il peut, si bon lui semble, rÃ©silier sans frais le contrat, avant la date d'entrÃ©e en vigueur proposÃ©e des modifications.\n" +
                        "\n" +
                        "Si lâUtilisateur ne signifie pas son refus des modifications, et continue Ã  utiliser lâApplication et les Services offerts aprÃ¨s la date de leur entrÃ©e en vigueur, Digitale Finances ne pourra en aucun cas, Ãªtre tenue pour responsable dâun quelconque prÃ©judice, rÃ©sultant de cette utilisation.\n" +
                        "\n" +
                        "ARTICLE 18 - SECRET PROFESSIONNEL\n" +
                        "\n" +
                        "Digitale Finances est tenue au secret professionnel. Toutefois, ce secret peut Ãªtre levÃ©, conformÃ©ment Ã  la lÃ©gislation en vigueur, en vertu dâune obligation lÃ©gale, rÃ¨glementaire et prudentielle, notamment Ã  la demande rÃ©guliÃ¨re des autoritÃ©s de tutelle, de lâadministration fiscale ou douaniÃ¨re, ainsi quâÃ  celle de toute autoritÃ© judiciaire.\n" +
                        "\n" +
                        "LâUtilisateur autorise Digitale Finances Ã  communiquer les informations le concernant entreprises extÃ©rieures pour lâexÃ©cution des travaux quâelle peut sous-traiter. Bien entendu, toutes mesures sont prises pour assurer la confidentialitÃ© des informations transmises.\n" +
                        "\n" +
                        "ARTICLE 19 â DROIT APPLICABLE - REGLEMENT DES DIFFERENTS\n" +
                        "\n" +
                        "Les prÃ©sentes Conditions GÃ©nÃ©rales dâUtilisation de lâApplication sont rÃ©gies par le droit ivoirien.\n" +
                        "\n" +
                        "Tout litige dÃ©coulant de lâinterprÃ©tation, de lâexÃ©cution ou de la rupture de celles-ci, devra faire lâobjet dâun rÃ¨glement amiable par voie de nÃ©gociation directe entre les Parties. \n" +
                        "\n" +
                        "La Partie faisant Ã©tat de lâexistence dudit litige, devra dÃ¨s quâelle en a connaissance, le notifier Ã  lâautre Partie par Ã©crit en prÃ©cisant sa nature et en fournissant toute autre information pertinente quâelle jugera nÃ©cessaire Ã  sa comprÃ©hension. \n" +
                        "\n" +
                        "A dÃ©faut dâaccord dans un dÃ©lai de trente (30) jours Ã  compter de la date de rÃ©ception, de la notification, le litige sera soumis par la partie la plus diligente, au Tribunal de Commerce dâAbidjan.\n";
                break;
            case R.id.dnx:
                Toast.makeText(this, "Deconnexion", Toast.LENGTH_SHORT).show();
                logout_fb();
                logout_gl();
                clearPrefData();
                break;
        }

        Intent i = new Intent(this, InfosActivity.class);
        Bundle bundle = new Bundle();
        bundle.putString("i_title", i_title);
        bundle.putString("i_info", i_info);
        i.putExtras(bundle);

        startActivity(i, bundle);
        drawerLayout.closeDrawer(GravityCompat.START);
        return false;
    }

    public void checkConnection(){
        ConnectivityManager manager = (ConnectivityManager) getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo activeNetwork = manager.getActiveNetworkInfo();
        if(null != activeNetwork){
            if(activeNetwork.getType() == ConnectivityManager.TYPE_WIFI){
                Toast.makeText(this, "WIFI ENABLE", Toast.LENGTH_SHORT).show();
            }
            else if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE){
                Toast.makeText(this, "DATA NETWORK ENABLE", Toast.LENGTH_SHORT).show();
            }
        }
        else{
            Toast.makeText(this, "NO INTERNET CONNECTION", Toast.LENGTH_SHORT).show();
        }
    }
    private void clearPrefData(){
        SharedPreferences mSharedPreferences = getSharedPreferences("User Data", Context.MODE_PRIVATE);
        SharedPreferences.Editor mEditor = mSharedPreferences.edit();
        mEditor.clear().apply();
    }
}
